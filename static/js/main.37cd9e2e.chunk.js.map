{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/images-api.js","App.js","index.js"],"names":["Searchbar","state","search","handleRequest","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onChangeForm","className","onSubmit","this","type","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleOnBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","onClick","ImageGalleryItem","modalWindowImage","alt","showModal","largeImageURL","tags","images","map","id","webformatURL","src","ImageGallery","protoTypes","PropTypes","array","isRequired","Button","scrollTo","top","documentElement","scrollHeight","behavior","searchQuery","currentPage","perPage","fetch","then","response","ok","json","Promise","reject","Error","App","error","isLoading","onChangeQuery","query","fetchImages","options","imagesApi","hits","prevState","catch","finally","prevProps","shouldRenderLoadMoreButton","length","message","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.37cd9e2e.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    onChangeForm: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleRequest = e => {\r\n    this.setState({ search: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { search } = this.state;\r\n    this.props.onChangeForm(search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleRequest}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n// import s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleOnBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleOnBackdropClick}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal';\r\n// import s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    modalWindowImage: null,\r\n    alt: null,\r\n  };\r\n\r\n  static propTypes = {\r\n    images: PropTypes.array.isRequired,\r\n  };\r\n\r\n  showModal = (largeImageURL, tags) => {\r\n    this.setState({\r\n      modalWindowImage: largeImageURL,\r\n      alt: tags,\r\n    });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({\r\n      modalWindowImage: null,\r\n      alt: null,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { modalWindowImage, alt } = this.state;\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {images.map(({ id, largeImageURL, tags, webformatURL }) => (\r\n          <li\r\n            key={id}\r\n            className=\"ImageGalleryItem\"\r\n            onClick={() => this.showModal(largeImageURL, tags)}\r\n          >\r\n            <img\r\n              src={webformatURL}\r\n              alt={tags}\r\n              className=\"ImageGalleryItem-image\"\r\n            />\r\n          </li>\r\n        ))}\r\n        {modalWindowImage && (\r\n          <Modal onCloseModal={this.onCloseModal}>\r\n            <img src={modalWindowImage} alt={alt} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n// import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      <ImageGalleryItem images={images} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.protoTypes = {\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import s from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { onClick } = this.props;\r\n\r\n    return (\r\n      <button type=\"buttton\" className=\"Button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","const key = '18518367-60788b25c9bdd8e2c754a390a';\r\nconst baseUrl = 'https://pixabay.com/api/';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, perPage = 10 }) => {\r\n  return fetch(\r\n    `${baseUrl}?q=${searchQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(\r\n      new Error(`Your query about ${searchQuery} is not found`),\r\n    );\r\n  });\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchImages };\r\n","import { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport imagesApi from './services/images-api';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n    currentPage: 1,\r\n    error: null,\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevSearchQuery = prevState.searchQuery;\r\n    const nextSearchQuery = this.state.searchQuery;\r\n\r\n    if (prevSearchQuery !== nextSearchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      images: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n    const options = { currentPage, searchQuery };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    imagesApi\r\n      .fetchImages(options)\r\n      .then(({ hits }) =>\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...hits],\r\n          currentPage: prevState.currentPage + 1,\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  render() {\r\n    const { images, error, isLoading } = this.state;\r\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onChangeForm={this.onChangeQuery} />\r\n        {error && <p>{error.message}</p>}\r\n\r\n        <ImageGallery images={images} />\r\n\r\n        {isLoading && (\r\n          <div className=\"Loader-wrapper \">\r\n            <Loader\r\n              type=\"ThreeDots\"\r\n              color=\"#00BFFF\"\r\n              height={80}\r\n              width={80}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}