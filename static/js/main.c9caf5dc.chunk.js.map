{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","services/images-api.js","App.js","index.js"],"names":["Searchbar","state","search","handleRequest","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onChangeForm","className","onSubmit","this","type","placeholder","onChange","Component","ImageGallery","children","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleOnBackdropClick","target","window","addEventListener","removeEventListener","createPortal","onClick","ImageGalleryItem","modalWindowImage","alt","showModal","largeImageURL","tags","images","map","id","webformatURL","src","Button","scrollTo","top","documentElement","scrollHeight","behavior","searchQuery","currentPage","perPage","fetch","then","response","ok","json","Promise","reject","Error","App","error","status","onChangeQuery","query","fetchImages","options","imagesApi","hits","prevState","length","catch","prevProps","color","height","width","timeout","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c9caf5dc.chunk.js","sourcesContent":["import { Component } from 'react';\r\n// import s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleRequest = e => {\r\n    this.setState({ search: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const { search } = this.state;\r\n    this.props.onChangeForm(search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleRequest}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","// import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className=\"ImageGallery\">{children}</ul>;\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n// import s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleOnBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleOnBackdropClick}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport Modal from '../Modal';\r\n// import s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    modalWindowImage: null,\r\n    alt: null,\r\n  };\r\n\r\n  showModal = (largeImageURL, tags) => {\r\n    this.setState({\r\n      modalWindowImage: largeImageURL,\r\n      alt: tags,\r\n    });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({\r\n      modalWindowImage: null,\r\n      alt: null,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { modalWindowImage, alt } = this.state;\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <>\r\n        {images.map(({ id, largeImageURL, tags, webformatURL }) => (\r\n          <li\r\n            key={id}\r\n            className=\"ImageGalleryItem\"\r\n            onClick={() => this.showModal(largeImageURL, tags)}\r\n          >\r\n            <img\r\n              src={webformatURL}\r\n              alt={tags}\r\n              className=\"ImageGalleryItem-image\"\r\n            />\r\n          </li>\r\n        ))}\r\n        {modalWindowImage && (\r\n          <Modal onCloseModal={this.onCloseModal}>\r\n            <img src={modalWindowImage} alt={alt} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\n// import s from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  componentDidMount() {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { onClick } = this.props;\r\n\r\n    return (\r\n      <button type=\"buttton\" className=\"Button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","const key = '18518367-60788b25c9bdd8e2c754a390a';\r\nconst baseUrl = 'https://pixabay.com/api/';\r\n\r\nconst fetchImages = ({ searchQuery = '', currentPage = 1, perPage = 10 }) => {\r\n  return fetch(\r\n    `${baseUrl}?q=${searchQuery}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(\r\n      new Error(`Your query about ${searchQuery} is not found`),\r\n    );\r\n  });\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fetchImages };\r\n","import { Component } from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGalleryItem';\r\nimport Button from './components/Button';\r\nimport imagesApi from './services/images-api';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    images: [],\r\n    currentPage: 1,\r\n    error: null,\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      currentPage: 1,\r\n      images: [],\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n\r\n    const options = { currentPage, searchQuery };\r\n\r\n    this.setState({ status: 'pending' });\r\n\r\n    imagesApi\r\n      .fetchImages(options)\r\n      .then(({ hits }) =>\r\n        this.setState(prevState => {\r\n          if (hits.length > 0) {\r\n            return {\r\n              images: [...prevState.images, ...hits],\r\n              currentPage: prevState.currentPage + 1,\r\n              status: 'resolved',\r\n            };\r\n          }\r\n        }),\r\n      )\r\n      // .then(data => console.log(data.hits))\r\n      .catch(error => this.setState({ error, status: 'rejected' }));\r\n  };\r\n\r\n  render() {\r\n    const { images, error, status } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onChangeForm={this.onChangeQuery} />\r\n        {status === 'resolved' && (\r\n          <>\r\n            <ImageGallery>\r\n              <ImageGalleryItem images={images} />\r\n            </ImageGallery>\r\n            <Button onClick={this.fetchImages} />\r\n          </>\r\n        )}\r\n        {status === 'pending' && (\r\n          <div className=\"Loader-wrapper\">\r\n            <Loader\r\n              type=\"TailSpin\"\r\n              color=\"#00BFFF\"\r\n              height={120}\r\n              width={120}\r\n              timeout={3000}\r\n            />\r\n          </div>\r\n        )}\r\n        {status === 'rejected' && <p>{error.message}</p>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}